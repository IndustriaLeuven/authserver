{% extends 'VlRadRestBundle:Default:get.html.twig' %}
{% block radrest_content %}
    <div class="panel-heading">
        <h3 class="panel-title">Group {{ data.name }}</h3>
    </div>

    <div class="panel-body">
        <dl class="dl-horizontal">
            <dt>Name</dt><dd>
                {{ data.name }}
            </dd>
            <dt>Flags</dt><dd>
                {% include 'AdminBundle:Group:flags.html.twig' with {obj: data} only %}
            </dd>
            <dt>Member of</dt><dd>
                {% for g in data.groups %}
                    <a href="{{ url(controller.route('get'), {id: g.id}) }}">{{ icon('group fa-fw') }} {{ g.name }}</a><br>
                {% else %}
                    <span class="text-muted">(None)</span>
                {% endfor %}
            </dd>
            {% if data.members|length > 0 %}
                <dt>Members</dt><dd>
                    {% if data.members|length < 20 %}
                        {% for u in data.members %}
                            <a href="{{ url('admin_user_get', { id: u.id }) }}">{{ icon('user fa-fw') }} {{ u.username }}</a><br>
                        {% endfor %}
                    {% else %}
                        {{ badge(data.members|length) }}
                    {% endif %}
                </dd>
            {% endif %}
            {% if data.memberGroups|length > 0 %}
                <dt>Members</dt><dd>
                    {% for g in data.memberGroups %}
                        <a href="{{ url(controller.route('get'), {id: g.id}) }}">{{ icon('group fa-fw') }} {{ g.name }}</a><br>
                    {% endfor %}
                </dd>
            {% endif %}
            <dt>Exported groups</dt><dd>
                {{ data._getAllGroupNames()|keys|json_encode }}
            </dd>
            {% if data.noGroups and data.memberGroups|length > 0 %}
                <dt><span class="text-warning">{{ icon('exclamation-triangle') }}</span></dt>
                <dd><span class="text-warning">Group marked as {{ label('G') }}, but {{ badge(data.memberGroups|length) }} groups are member of this group.</span></dd>
            {% endif %}
            {% if data.noUsers and data.members|length > 0 %}
                <dt><span class="text-warning">{{ icon('exclamation-triangle') }}</span></dt>
                <dd><span class="text-warning">Group marked as {{ label('U') }}, but {{ badge(data.members|length) }} users are member of this group.</span></dd>
            {% endif %}
        </dl>
    </div>
    {% include 'VlRadRestBundle:Default:links.html.twig' %}
{% endblock %}
