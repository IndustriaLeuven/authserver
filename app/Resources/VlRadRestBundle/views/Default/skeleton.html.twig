{% extends '::base.html.twig' %}
{% block body %}
    <div class="container-fluid">
        <div class="row">
            {% block mobile_search %}
            {% endblock %}
            <div class="col-xs-12 col-sm-8 col-md-9 pull-right">
                <div class="panel panel-
                {%- spaceless %}
                    {% set _route = app.request.attributes.get('_route') %}
                    {% if _route ends with '_get' or _route ends with '_gets' %}
                        info
                    {% elseif _route ends with '_post' or _route ends with '_put' or _route ends with '_delete' %}
                        warning
                    {% elseif _route ends with '_remove' %}
                        danger
                    {% else %}
                        primary
                    {% endif %}
                {% endspaceless -%}
                ">
                    {% block radrest_content %}
                    {% endblock %}
                </div>
            </div>
            <div class="col-xs-12 col-sm-4 col-md-3">
                <div class="panel panel-default">
                    {% block radrest_sidebar %}
                        <div class="panel-heading">
                            <h3 class="panel-title">Navigation</h3>
                        </div>
                        <div class="list-group">
                            {% macro render_link(route, param, ico, name) %}
                                <a class="list-group-item {% if app.request.attributes.get('_route') == route %} active{% endif%}" href="{{ url(route, param) }}">{{ icon(ico~' fa-fw') }} {{ name }}</a>
                            {% endmacro %}
                            {% import _self as self %}
                            {% if id is defined %}
                                {% if controller.may('get', data) %}
                                    {{ self.render_link(controller.route('get'), {id:id},'eye', 'View') }}
                                {% endif %}
                                {% if controller.may('edit', data) %}
                                    {{ self.render_link(controller.route('edit'), {id:id}, 'pencil', 'Edit') }}
                                {% endif %}
                                {% if controller.may('remove', data) %}
                                    {{ self.render_link(controller.route('remove'), {id:id}, 'trash', 'Delete') }}
                                {% endif %}
                            {% endif %}
                            {% if controller.may('cget') %}
                                {{ self.render_link(controller.route('cget'), {}, 'list', 'List') }}
                            {% endif %}
                            {% if controller.may('new') %}
                                {{ self.render_link(controller.route('new'), {}, 'plus', 'Create') }}
                            {% endif %}
                        </div>
                    {% endblock %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}
